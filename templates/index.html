{% extends 'base.html' %}

{% block title %}
个人主页
{% endblock %}
{% block style %}
<link rel="stylesheet" href="{{url_for('static',filename='/css/index.css')}}">
<script src="
https://cdn.jsdelivr.net/npm/echarts@5.5.0/dist/echarts.min.js
"></script>
{% endblock %}
{% block body %}
<div id="pic" style="background-color: paleturquoise; ">
    <image src="./static/images/company.png" width="400px" height="100px" ></image>
    <form action='/' method='GET'>
        <input class="search_text" type="search" placeholder="请输入需要搜索的职位" aria-label="Search" name="keyword" value={{keyword}}>
        <input class ="search_button" type="submit" value="搜索">
    </form>
</div>
<div class="sidebar">
    <ul>
        <li>
            <h4 style="display: flex; justify-content: center; align-items: center;">热门岗位</h4>
        </li>
        <li>
            <p class="side">后端开发</p>
            <span>></span>
            <div class="sidebar-mask">
                <div>
                    <label class="lab">后端开发</label>
                </div>
                <br>
                <div class="inside">
                <a class="job" target="_blank" href="">java</a>
                <a class="job" target="_blank" href="">C/C++</a>
                <a class="job" target="_blank" href="">PHP</a>
                <a class="job" target="_blank" href="">Python</a><br>
                <a class="job" target="_blank" href="">Golang</a>
                <a class="job" target="_blank" href="">C#</a>
                </div>
            </div>
        </li>
        <li>
            <p class="side">前端开发</p>
            <span>></span>
            <div class="sidebar-mask">
                <div>
                    <label class="lab">前端开发</label>
                </div>
                <br>
                <div class="inside">
                <a class="job" target="_blank" href="">IOS</a>
                <a class="job" target="_blank" href="">Android</a>
                <a class="job" target="_blank" href="">JS</a>
                <a class="job" target="_blank" href="">VUE</a>
                <a class="job" target="_blank" href="">前端实习生</a>
                <a class="job" target="_blank" href="">前端工程师</a>
                </div>
            </div>
        </li>
        <li>
            <p class="side">教育培训</p>
            <span>></span>
            <div class="sidebar-mask">
                <div>
                    <label class="lab">教育培训</label>
                </div>
                <br>
                <div class="inside">
                <a class="job" target="_blank" href="">计算机老师</a>
                <a class="job" target="_blank" href="">机器人教师</a>
                <a class="job" target="_blank" href="">英语老师</a>
                <a class="job" target="_blank" href="">数学老师</a>
                <a class="job" target="_blank" href="">幼师</a>
                <a class="job" target="_blank" href="">助教</a>
                </div>
            </div>
        </li>
        <li>
            <p class="side">运维</p>
            <span>></span>
            <div class="sidebar-mask">
                <div>
                    <label class="lab">运维</label>
                </div>
                <br>
                <div class="inside">
                <a class="job" target="_blank" href="">网络工程师</a>
                <a class="job" target="_blank" href="">网络安全</a>
                <a class="job" target="_blank" href="">网络维护</a>
                <a class="job" target="_blank" href="">网络工程师</a>
                <a class="job" target="_blank" href="">系统安全</a>
                <a class="job" target="_blank" href="">运维工程师</a>
                </div>
            </div>
        </li>
        <li>
            <p class="side">通信</p>
            <span>></span>
            <div class="sidebar-mask">
                <div>
                    <label class="lab">通信</label>
                </div>
                <br>
                <div class="inside">
                <a class="job" target="_blank" href="">移动通信工程师</a>
                <a class="job" target="_blank" href="">5G网络优化</a>
                <a class="job" target="_blank" href="">网络通信技术</a>
                <a class="job" target="_blank" href="">通信资料员</a>
                <a class="job" target="_blank" href="">通信施工</a>
                <a class="job" target="_blank" href="">通信项目助理</a>
                </div>
            </div>
            <div class="side-image">
                <img src="./static/images/advertise.png" alt="广告" class="adver">
                </div>
        </li>
    </ul>
    
    
    
</div>
<br><br>
<div style="height: 450px;">
    <h2>个人评估</h2>
      <br>
    <div id="chart" style="width: 500px; height: 400px;position: relative;left: 350px; background-color: rgb(206, 231, 246);border-radius: 5%;"></div>
    <script>
      var chart = echarts.init(document.getElementById('chart'));
      var option = {
        title: {
          text: '个人评估',
          x: 'center',
          textStyle: {
                    color: '#000000' // 将文本颜色设置为黑色
                }
        },
        tooltip: {},
        legend: {
          data: ['产品A']
        },
        radar: {
          indicator: [
            {name:'动手能力', max:100},
            {name:'创新能力', max:100},
            {name:'工作经验', max:100},
            {name:'人物性格', max:100},
            {name:'未来规划', max:100}
          ],
          name:
          {
            textStyle: {
                color: '#000000' 
            }
          }
        },
        areaStyle:{},
        series: [{
          type: 'radar',
          data: [
            {
              value: [80,80,60,85,60],
            },
  
          ]
        }]
      };
      chart.setOption(option);
    </script>
  </div>
<br><br>
<div>
    <h2>推荐岗位
    </h2>
</div>
<div class="container">  
    <div class="row" style="margin-top: 20px;">  
        <div class="col"></div>  
        <div class="col-10">  
            {% if results %}  
            <ul class="position-ul">  
                {% for result in results %}  
                <li>  
                    <div class="side-position">  
                        <img class="side-position-avatar" src="data/pictures/admin/{{result.admin.filepath}}" alt="">  
                    </div>  
                    <div class="position-main">  
                        <div class="position-title"><a href="/position_detail_action?position_id={{result.id}}">{{result.position_name}}</a></div>  
                        <div class="position-content">公司: {{result.company}}<br>月薪:{{result.salary}}</div>  
                        <div class="position-detail">  
                            <span class="position-author"></span>  
                            <span class="position-time">{{result.release_time}}</span>  
                        </div>  
                    </div> 
                </li>  
                <br>
                {% endfor %}  
            </ul>  
            {% endif %}  
  
            <!-- 分页控件 -->  
            {% set page_length=6 %}

            {% if page<=3 %}
                {% set min_page=1 %}
            {% else %}
                {% set min_page = page-2 %}
            {% endif %}

            {% if min_page+page_length>total_pages %}
                {% set page_length = total_pages - min_page + 1 %}
            {% endif %}

            <div class="pagination">  
                {% if page > 1 %}  
                    <a href="?page={{page-1}}&keyword={{keyword}}" class="pagination-link">上一页</a>  
                {% endif %}  
                {% for p in range(min_page,min_page+page_length) %}  
                    {% if p == page %}  
                        <span class="pagination-link active">{{p}}</span>  
                    {% else %}  
                        <a href="?page={{p}}&keyword={{keyword}}" class="pagination-link">{{p}}</a>  
                    {% endif %}  
                {% endfor %}  
                {% if page < total_pages %}  
                    <a href="?page={{page+1}}&keyword={{keyword}}" class="pagination-link">下一页</a>  
                {% endif %}  
            </div>
        </div>  
        <div class="col"></div>  
    </div>  
</div>
{% endblock %}
